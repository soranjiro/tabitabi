旅行のしおり管理アプリ 要件定義書
1. プロジェクト概要
1.1 アプリケーション名
- （未定）

1.2 プロダクトコンセプト
- 既存の多機能生成AIや汎用ツールの代替を目指すのではなく、「あると便利」なニッチなソリューション（Walica 的な立ち位置）を目指す。
- Web のデザイン性・拡張性を強みとし、しおり作成・管理体験を向上させる。

1.3 開発目標
- 作っていて楽しいアプリにすること。
- 実際にユーザーが使える実用性のある機能を提供すること。
- 初期は MVP に集中し、段階的に「テーマ機能」を拡張する。

2. コア機能要件（全テーマ共通・必須）
2.1 しおりの基本管理
- しおりの新規作成、編集、削除。
- しおり名、旅行期間の設定。

2.2 旅程の基本構造管理（Itinerary Structure）
- 時間軸ベースで旅ルートを構造管理。
- ステップ（訪問地、開始時刻、終了時刻または所要時間）の追加・編集・並び替えが可能。

2.3 テーマ拡張機能（Theme Extension Features）
- テーマに応じて有効/無効や表示切替が可能な拡張機能群。
  - 地図情報連携：緯度・経度を保存し地図表示。
  - 所要時間サジェスト：移動手段を考慮したルート計算と所要時間提示。
  - 持ち物管理（Checklist）：持ち物リストの作成・編集・チェック管理。
  - 予算管理（Budgeting）：カテゴリ別予算設定・実績入力・差額表示。
  - メモ機能：旅のメモやアイデアの自由記述。

3. デザイン・UX要件
3.1 テーマ機能（差別化要素）
- テーマ切替でデザイン・機能・UX を完全に切り替え可能にする。
  - 例：シンプルテーマは予算を非表示、ビジネス出張テーマは領収書管理を追加。
- テーマ切替時のデータ整合性・移行設計を行う。
- 将来的にテーマを OSS 化し、誰でもテーマを追加できる仕組みを目指す。

3.2 モバイルファースト
- 携帯端末での使いやすさを最優先とするレスポンシブ設計。

4. 技術的な初期設計
4.1 開発言語／フレームワーク
- svelte
- cloudflare pages
- cloudflare workers

4.2 データストレージ
- cloudflare d1

4.3 アーキテクチャ（シンプル設計）
- バックエンド：旅程・持ち物・予算等で独立 API エンドポイントを用意。
- データ構造：コア機能は共通テーブル、テーマ固有データは独立テーブルまたはドキュメント内フィールドで管理。
- フロントエンド：必要な機能・データのみを取得して UI を構築。

5. 今後の検討事項
- 収益化：保存数や拡張機能数で制限を設ける可能性。
- テーマの拡張：OSS 化・外部テーマの追加を考慮した設計。
- 技術選定：フロントエンド/バックエンド/ストレージの最終決定。
- テーマ間データ移行、互換性チェック、UX の詳細検討。
- パフォーマンス、オフライン対応、セキュリティ要件の検討。
